<!DOCTYPE html>
<html lang="eng">
    <head>
        <meta charset="utf-8">
        <title>RockPaperScissors</title>
    </head>

    <body>
        <div class="header">
            <h1>Rock Paper Scissors</h1>
        </div>

        <button id="myButton1" value='rock'>rock</button>
        <button id="myButton2" value="paper">paper</button>
        <button id="myButton3" value="scissors">scissors</button>

        <p id="choice"></p>

        <p id="result"></p>

        <p id="YourScore"></p>
        <p id="CompScore"></p>

        <p id="FinalResult"><strong></strong>></p>


        <script>
            //Set variables
            let RoundResult='';
            myArray=[];
            
            

            window.addEventListener('load',Score);


            function Score(){
                alert('Page loaded');
                var YourScore=0;
                var CompScore=0;
                document.getElementById('YourScore').innerHTML=("Your score is "+YourScore);
                document.getElementById('CompScore').innerHTML=("The computer score is "+CompScore);
                document.getElementById('myButton1').addEventListener('click',test1);
                document.getElementById('myButton2').addEventListener('click',test2);
                document.getElementById('myButton3').addEventListener('click',test3);
            }


            function test1(){
                alert('it clicked');
                /*var RoundResult='';*/
                var value=document.getElementById('myButton1').value;
                RoundResult=PlayRound(value);
                alert(RoundResult);
                CountScore(RoundResult);

            }

            function test2(){
                alert('it clicked');
                /*var RoundResult='';*/
                var value=document.getElementById('myButton2').value;
                RoundResult=PlayRound(value);
                alert(RoundResult);
                CountScore(RoundResult);
            }

            function test3(){
                alert('it clicked');
                /*var RoundResult='';*/
                var value=document.getElementById('myButton3').value;
                RoundResult=PlayRound(value);
                alert(RoundResult);
                CountScore(RoundResult);
            }

            function CountScore(RoundResult){
                let result=RoundResult;
                if (result=='player'){
                    myArray.push('player');
                } else if(result=='computer'){
                    myArray.push('computer');
                }
                document.getElementById('FinalResult').innerHTML='Winner is '+myArray;
                var PlayerScore=0;
                var CompScore=0;
                for (value of myArray){
                    if (value=='player'){
                        PlayerScore+=1;
                        document.getElementById('YourScore').innerHTML=("Your score is "+PlayerScore);
                    } else if (value=='computer'){
                        CompScore+=1;
                        document.getElementById('CompScore').innerHTML=("The computer score is "+CompScore);
                    }
                    if (PlayerScore==5){
                        document.getElementById('FinalResult').innerHTML='You win the game!'
                    } else if (CompScore==5){
                        document.getElementById('FinalResult').innerHTML='The Computer win the game :('
                    }
                }
            }


            function PlayRound(value){
                document.getElementById('choice').innerHTML='You have chosen '+value;
                let win1="rockscissors";
                let win2="paperrock";
                let win3="scissorspaper"
                /*let PlayerScore=0;
                let CompScore=0;
                let NumRound=0;*/
                let PlayerChoice=value;
                let Player=PlayerChoice.toLowerCase();
                let CompResult=GetComputerChoice();
                let code=(Player+CompResult);
                if (code==win1|code==win2|code==win3){
                    document.getElementById('result').innerHTML=("You win! "+ Player +" beats "+ CompResult);
                    return ('player');

                } else if (Player==CompResult){
                    document.getElementById('result').innerHTML=("It's a draw! You both have "+ Player);
                    return ('None');
                } 
                else {
                    document.getElementById('result').innerHTML=("You lose! "+ CompResult +" beats "+ Player);
                    return ('computer');
                }
            };

            function GetComputerChoice(){
                let result=RandomPick();
                if (result===1){
                    return("rock");
                } else if (result===2){
                    return("paper");
                } else if (result===3){
                    return("scissors");
                }
            };

            function RandomPick(){
                let max=Math.floor(3);
                let min=Math.ceil(1);
                return Math.floor(Math.random()*(max-min+1))+min;
            };
        </script>

        
        <footer>

        </footer>
    </body>
</html>